{% extends 'app/base.html' %}
{% load static %}
{% block title %}Category{% endblock title %}

{% block main-content %}
   <div class="container my-5">
      <div class="row">
         <div class="col-md-3">
            <div class="list-group">
               {% for val in title %}
                  <a href="{% url 'category-title' val.title %}" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center mb-2" style="background: linear-gradient(135deg, #2c3e50, #000000); border: none; color: #ffffff; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
                     <span>{{val.title}}</span>
                     <span class="badge bg-success rounded-pill">{{ val.products_count }}</span>
                  </a>
               {% endfor %}
            </div>
         </div>

         <div class="col-md-9">
            <div class="row row-cols-1 row-cols-md-3 g-4">
               {% for prod in product %}
                  <div class="col">
                     <div class="card h-100 {% if prod.id == selected_product_id %}border border-primary shadow-lg rounded{% endif %}">
                        <a href="{% url 'product-detail' prod.id %}">
                           <img src="{{prod.product_image.url}}" class="card-img-top" alt="{{prod.title}}">
                        </a>
                        <div class="card-body text-center">
                           <h5 class="card-title">{{prod.title}}</h5>
                           <p class="card-text">
                              <span class="fw-bold text-danger">Rs.{{prod.discounted_price}}/-</span>
                              <small class="fw-light text-decoration-line-through">{{prod.selling_price}}</small>
                           </p>
                           <a href="{% url 'product-detail' prod.id %}" class="btn btn-primary">View Details</a>
                        </div>
                     </div>
                  </div>
               {% endfor %}
            </div>
         </div>
      </div>
   </div>
{% endblock main-content %}
